# 지하철 노선도 미션
스프링 과정 실습을 위한 지하철 노선도 애플리케이션

---

## 기능 요구사항 목록

### 지하철 역 관리

- 지하철역 등록
  - [x] 이름을 통해 지하철역을 등록할 수 있다.
  - [x] 지하철역 생성 시 이미 등록된 이름으로 요창한다면 에러를 응답

- 지하철역 조회
  - [x] 등록된 전체 지하철역을 조회할 수 있다.

- 지하철역을 제거한다.
  - [x] 지하철역 아이디 값을 통해 지하철역을 삭제할 수 있다.

### 노선 관리

- 노선 등록
  - [x] 이름, 색상, 기점역, 종착역, 추가운임, 거리를 통해서 노선을 생성할 수 있다.
  - [x] 노선 생성 시 이미 등록된 이름으로 요청한다면 에러를 응답
  - [x] 노선 생성 시 기점역, 종착역이 존재하지 않는다면 에러를 응답
  - [x] 노선 생성 시 거리가 0이하일 경우 에러를 응답

- 노선 조회
  - [x] 등록된 전체 노선을 조회할 수 있다.
  - [x] 전체 노선 조회시 등록된 구간(지하철역들)도 같이 조회할 수 있다.

- 노선 단일 조회
  - [x] 하나의 노선에 대해서 조회할 수 있다.
  - [x] 전체 노선 조회시 등록된 구간(지하철역들)도 같이 조회할 수 있다.

- 노선 수정
  - [x] 노선의 아이디 값을 통해 이름, 색상을 수정할 수 있다.

- 노선 삭제
  - [x] 노선의 아이디 값을 통해 노선을 삭제할 수 있다.


### 구간 관리

- 구간 추가 등록
  - [x] 기존에 등록된 라인에 구간을 등록할 수 있다.
  - [x] [예외] 기존에 등록된 노선이 없을 경우 예외가 발생한다.
  - [x] [예외] 기존에 등록된 지하철역이 있을 경우 예외가 발생한다.
  - [x] [예외] 등록할 구간 사이의 거리 보다 새로 등록할 거리가 기존 역 사이 길이보다 크거나 같으면 예외가 발생한다.
  - [x] [예외] 상행역과 하행역이 이미 노선에 등록되어 있으면 예외가 발생
  - [x] [예외] 추가 등록시 기존의 등록된 구간 중 반드시 1개를 포함해야 하며 포함하지 않을 경우 예외가 발생한다.

- 구간 제거
  - [x] 등록된 구간을 제거한다.
  - [x] [예외] 등록되지 않은 지하철역인 경우 예외가 발생한다.
  - [x] [예외] 구간이 2개 이하일 때 삭제할 경우 예외가 발생한다.


### 경로 조회 관리

- 최단거리 조회 기능
  - [x] 출발역과 도착역을 입력받아서 최단거리 조회를 할 수 있다.
  - [x] 최단거리 조회에서는 출발역과 도착역 사이의 모든 역들을 조회할 수 있다.
  - [x] 최단거리 조회 결과에서는 총 거리와 총 요금을 확인할 수 있다.

- 요금 기능
  - [x] 기본 운임(10km)은 1,250원이다.
  - [x] 10km ~ 50km로 운임 거리를 초과했을 경우 5km 마다 100원 추가
  - [x] 50km 이상 운임 거리를 초과했을 경우 8km 마다 100원 추가
  
### 요금 정책 관리
- 노선별 추가 요금
  - [x] 추가 요금이 있는 노선을 이용 할 경우 측정된 요금에 추가
  - [x] 경로 중 추가요금이 있는 노선을 환승 하여 이용 할 경우 가장 높은 금액의 추가 요금만 적용
  
- 연령별 요금 할인
  - [x] 청소년: 운임에서 350원을 공제한 금액의 20%할인
  - [x] 어린이: 운임에서 350원을 공제한 금액의 50%할인
---

## 프로그래밍 요구 사항

- End To End 테스트를 작성한다.
- Spring JDBC를 활용하여 DB에서 관리
- 스프링 빈 활용하기

